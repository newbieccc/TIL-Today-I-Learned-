# # 컴퓨터과학 개론

## 10. 컴퓨터 구조(2)

- 컴퓨터과학과 이관용 교수님

### (1) 명령어

- 명령어 집합 구조
    - 내장 프로그래밍 개념으로부터 직접적으로 도출된 개념
        - ISA Instruction Set Architecture -> HW와 SW의 교량 역할을 하는 개념
        - 명령어 집합
            - 컴퓨터 시스템 내에 정의되어 있는 기본적인 명령어들의 집합
            - 모든 컴퓨터는 자신만의 명령어 집합을 가짐
                - 명령어 종류, 명령어 형식, 주소지정방식 등을 고려해서 결정됨
        - 명령어 집합이 결정되면 그에 상응하는 하드웨어 구조가 결정됨
- 명령어 집합에 따른 컴퓨터 구조
    - CISC 복합 명령어 집합 컴퓨터, Complex Instruction Set Computer
        - 복합 명령어를 포함하여 명령어와 주소지정방식의 수를 많이 사용
        - 많은 복잡한 명령어를 탑재하여 프로그램 전체 명령어 개수를 줄여 실행 시간 단축을 노림
        - 연산코드 해석·실행 제어장치가 복잡해지는 단점
    - RISC (Reduced Instruction Set Computer · 단축 명령어 집합 컴퓨터)
        - 명령어를 단순화하고 개수를 줄여 하드웨어를 간단화
        - 각 명령어의 길이를 가능한 짧게 하여 명령어 실행 시간 최소화
        - 높은 처리량·빠른 속도 지향
        - 제어장치가 비교적 단순하며 일반적으로 하드웨어로 구성됨

- 기본적인 명령어 종류
    - 데이터 전송 명령어
        - 데이터 이동(레지스터<->레지스터, 주기억장치<->레지스터, 기억장치<->기억장치 등)
    - 데이터 처리 명령어
        - 산술 명령어, 논리연산 명령어, 비트 단위 명령어, 시프트 명령어 등
    - 프로그램 제어 명령어
        - 프로그램의 제어 흐름 관리: 무조건적 분기, 조건적 분기
    - 입출력 명령어
        - 보조기억장치 및 입출력장치 등과 정보 교환, 인터럽트 관련
        - 인터럽트: 프로그램의 정상 수행을 멈추고 CPU 이외의 장치 요구를 처리하게 하는 기능
- 명령어 형식
    - 기본 형식
        - 각 명령어는 실행에 필요한 모든 정보를 포함해야 함
        - 기본 형식: 연산자 코드(OP code) · 오퍼랜드(operand)
        - 연산자 코드(OP code)
            - CPU가 처리할 연산의 종류를 지정
            - OP 코드에 할당된 비트 수가 CPU가 수행할 수 있는 최대 명령어 개수를 결정
        - 오퍼랜드(피연산자, operand)
            - 명령어가 사용할 데이터 또는 그 데이터가 저장된 기억장치의 주소
            - 오퍼랜드의 크기·개수는 명령어 집합 구조(ISA)와 명령어 형식에 따라 달라짐
- 목적지 개수에 따른 구분
    - 연산의 대상 데이터가 어디서 추출되고, 결과를 어디에 저장할지에 따른 구분
        - 3-주소 명령어: 연산자 코드 + 오퍼랜드 × 3
            - 예) 목적지, 원천1, 원천2
        - 2-주소 명령어: 연산자 코드 + 오퍼랜드 × 2
            - 예) 목적지(겸 원천1), 원천2
        - 1-주소 명령어: 연산자 코드 + 오퍼랜드 × 1
            - 예) 누산기(ACC) + 한 개의 주소
        - 0-주소 명령어: 연산자 코드만
            - 예) 스택 기반 연산 (피연산자는 스택에서 암시적으로 사용)
- 명령어 형식
    - 목표 식: W = X * (Y + Z)
- 3-주소 명령어

```nginx
ADD Y, Z, R1 ; R1 ← Y + Z
MUL X, R1, W ; W ← X * R1
```

- 2-주소 명령어

```nginx
MOVE Y, R1       ; R1 ← Y
ADD  Z, R1       ; R1 ← Z + R1
MUL  X, R1       ; R1 ← X * R1
MOVE R1, W       ; W  ← R1
```

- 1-주소 명령어(누산기 AC 사용)

```nginx
LOAD  Y          ; AC ← Y
ADD   Z          ; AC ← Z + AC
MUL   X          ; AC ← X * AC
STORE W          ; W  ← AC
```

- 0-주소 명령어(스택)

```nginx
PUSH Y
PUSH Z
ADD              ; PUSH(POP() + POP())
PUSH X
MUL              ; PUSH(POP() * POP())
POP  W           ; W ← POP()
```

- 주소지정방식 addressing mode
    - 연산에 사용될 데이터가 기억장치의 어디에 위치하는 지를 지정하는 방법
        - 명령어 개수/길이를 줄이고, 기억장치 사용에 대한 융통성 증가시킴
        - 유효주소 effective address
            - 주소지정방식에 의해 계산되어 실제 데이터가 저장된 주소
            - 아래로 갈수록 느린 접근
                - 즉시 immediate 주소지정방식
                    - 연산자 코드 = 실제 데이터 저장됨
                        - 레지스터/변수의 초기화에 유용
                - 레지스터 register 주소지정방식
                    - 연산자 코드 = 레지스터 번호 저장됨 -> 실제 데이터
                    - 레지스터 간접 register-indirect 주소지정방식
                        - 연산자 코드 = 레지스터 번호 -> 주기억장치 주소 -> 실제 데이터
                - 직접 direct 주소지정방식
                    - 연산자 코드 = 주기억장치 주소 저장 (유효주소)
                    - 주기억장치 주소를 통해 실제 데이터 접근
                - 상대 relative 주소지정방식
                    - 연산자 코드 = 내용 + 레지스터 내용 = 유효주소 -> 실제 데이터
                        - 레지스터 내용
                            - 프로그램 카운터
                                - 분기형 명령어에서 주로 사용
                            - 인덱스 레지스터
                                - 인덱스된 주소지정방식 -> 배열 인덱싱에 주로 사용
                            - 베이스 레지스터
                                - 베이스 레지스터 주소지정방식
                - 간접 indirect 주소지정방식
                    - 연산자 코드 = 주기억장치 주소를 통해 실제 데이터를 참조하는 주기억장치 주소를 저장
                    - 연산자 코드 -> 주기억장치 주소 -> 주기억장치 주소 -> 실제 데이터

### (2) 중앙처리장치

- 명령어를 하드웨어에 구현하는 방법
    - (1) 마이크로 프로그램에 의한 제어장치
        - Micro-programmed control device
        - 산술·논리연산과 명령어 수행 순서의 조작 회로가 제어기억장치에 저장된 비트 패턴(마이크로 연산) 으로 동작
        - 각 명령어는 여러 개의 마이크로 연산으로 구현됨
        - 명령어 집합 변경/추가가 용이
        - 주로 CISC 구조에서 사용됨
    - (2) 직접 회로로 구성된 제어장치
        - Hard-wired control device
        - 연산 및 명령어 수행 회로가 기억장치에 의존하지 않고 직접 구성된 제어 회로로 동작함
        - 수행 속도가 빠름
        - 명령어 집합 변경에 유연하지 않음(구조 변경이 어려움)
        - 명령어 수가 적은 RISC 구조에서 주로 사용됨
- 레지스터
    - 범용 레지스터
    - 특수 레지스터

![img.png](image/10-01.png)

### (3) 입출력장치 및 병렬처리
