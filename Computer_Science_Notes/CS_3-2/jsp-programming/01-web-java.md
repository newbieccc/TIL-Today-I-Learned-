# # JSP프로그래밍

## 01. 웹과 자바

- 컴퓨터과학과 김희천 교수님

### (1) 웹이란

- 웹(Web)
    - 인터넷 기반 정보 서비스(WWW)
        - 인터넷 상에 분산되어 존재하는 다양한 정보를 통일된 방법으로 찾아볼 수 있게 하는 정보 공유 시스템
    - 정보는 하이퍼텍스트 형태로 구성
        - HTML은 하이퍼텍스트 작성 언어
    - 팀 버너스 리가 제안
- 웹 문서
    - 정적 웹 문서
        - 동일한 고정된 내용을 반복 전달하기 위한 문서
            - 정적 웹 문서를 요청하면 항상 동일한 결과가 전달됨
                - 클라이언트가 서버에게 정적 웹 문서를 요청하면, 서버는 해당 문서를 찾아서 전달함
    - 동적 웹 문서
        - 요청 시마다 서버에서 동적으로 새롭게 생성되는 문서
        - 두 가지 처리 방식
            - 클라이언트 측 처리(브라우저에서 실행, JavaScript)
            - 서버 애플리케이션 이용 방식(CGI, ASP, PHP, JSP 등)

### (2) 웹 애플리케이션

- 웹 애플리케이션
    - 웹 환경에서 실행되는 응용 프로그램
        - 사용자의 요청에 따라 동적으로 콘텐츠를 생성하기 위한 응용 프로그램
    - 웹 애플리케이션의 구분
        - 실행 위치에 따라 클라이언트 측 실행과 서버 측 실행
        - 구현 방식에 따라 컴파일 방식과 비컴파일 방식 구분
            - JSP는 서버 측 실행과 컴파일 방식의 기술
    - 클라이언트 측 실행
        - 웹 문서에 동적 요소를 포함시켜 클라이언트에 전송
        - 웹 브라우저가 웹 문서를 해성하여 웹 페이지를 생성
        - 응답은 빠르지만 보안에 취약
        - 애플릿, JavaScript, 플래시
    - 서버 측 실행
        - 서버에서 스크립트가 실행되어 동적으로 웹 문서를 생성
        - 응답 문서가 브라우저에 전송됨
        - 서블릿, JSP, ASP, PHP 등
        - 보안과 데이터 관리에 유리하지만 서버 자원 사용의 부담
- 웹 서비스 제공을 위한 구성
    - 웹 클라이언트(웹 브라우저)
        - 웹 서버에 요청을 보내고 응답 받은 결과를 출력
    - 웹 서버
        - 클라이언트의 요청을 처리하도록 프로세스를 관리
        - 요청의 처리 결과를 클라이언트에 전달
    - 웹 애플리케이션 서버(웹 컨테이터)
        - 웹 애플리케이션의 실행 환경
        - JSP 프로그램을 실행시키고 결과를 웹 서버에 전달
    - 데이터베이스
        - 웹 애플리케이션 실행에 필요한 데이터의 저장과 관리
    - 웹 브라우저 <-> HTTP 요청, 응답 <-> 웹 서버 <-> 웹 애플리케이션 서버(웹 컨테이너) <-> 데이터베이스
- 웹 서버와 웹 애플리케이션 서버
    - 웹 서버
        - 클라이언트 요청의 처리
        - 정적 콘텐츠 제공 (예: HTML 이미지 파일 등)
        - HTTP 프로토콜을 사용하여 클라이언트와 통신함
            - HTTP 서버라고도 함
        - Apache HTTP Server, IIS, Nginx 등
    - WAS
        - Web Application Server
        - 동적 콘텐츠 생성(예: JSP, Servlet)
            - 서버의 성능을 개선하기 위해 웹 서버의 기능을 분리
        - 비즈니스 로직 담당
        - Tomcat, JBoss, WebLogic 등

### (3) Java와 웹 프로그래밍

- 서블릿과 JSP의 차이
    - 서블릿
        - 자바로 작성된 서버 측 웹 프로그램(.java)
            - HTML 출력을 만듦
        - 자바로 웹 프로그램을 개발하기 위한 표준 규약(서블릿 규약)을 따르는 서버 측 자바 클래스
            - 바이트 코드로 컴파일되어 웹 서버에 배포됨(.class)
            - 소스 수정 시 재컴파일하여 배포해야 함
    - JSP
        - JavaServer Pages의 약자
        - HTML 파일의 필요한 부분에 자바 코드가 삽입된 형태(.jsp)
        - JSP 파일을 서버에 탑재
            - 최초 요청시 WAS에 의해 서블릿으로 변환되고 컴파일 되어 실행됨
            - 이후 컴파일된 서블릿 클래스가 실행됨
- JSP의 특징
    - 특징
        - HTML 파일에 삽입되는 스크립트로 개발이 편리함
        - 서블릿보다 가독성이 높고 유지보수가 쉬움
        - 자바 기반이므로 자바 언어의 특성 활용과 다양한 API 및 라이브러리 사용 가능
        - 오픈 소스 도구 및 다양한 프레임워크와 통합 가능
        - JSP 웹 개발 기술은 플랫폼에 독립적
        - 기술 표준화로 확장성과 안정성 확보
- 웹 컨테이너와 WAS
    - 웹 컨테이너
        - 웹 컴포넌트(JSP, Servlet등)를 실행하고 관리하는 소프트웨어 환경
            - HTTP 요청과 응답의 처리, JSP를 서블릿으로 변환, 서블릿 생명주기 관리, 세션 관리, 요청 파라미터 파싱 등의 기본 서비스 제공
            - 서블릿 컨테이너는 서블릿 생명주기를 관리하며 클라이언트 요청을 처리하는 것으로, 웹 컨테이너와 사실상 같은 의미
            - Apache의 Tomcat은 대표적 웹 컨테이너
                - 웹 서버와 웹 컨테이너 기능을 모두 포함
    - 웹 애플리케이션 서버(WAS)
        - 웹 기반 애플리케이션의 비즈니스 로직을 실행하고, 동적으로 웹 콘텐츠를 생성해 클라이언트에게 전달하는 서버 소프트웨어
        - 웹 컨테이너 기능에 복잡한 비즈니스 로직 처리, DB 연결 관리, 트랜잭션 관리, 보안, 로깅, 인증 처리 등까지 담당
            - 웹 컨테이너는 WAS의 일부
        - IBM WebSphere, Red Hat JBoss, Oracle WebLogic 등

### (4) HTTP 프로토콜

- HTTP 프로토콜의 이해
    - HTTP 프로토콜
        - 클라이언트와 웹 서버 간 데이터 전송을 위한 통신 규약
        - TCP 기반 응용 계층 프로토콜
        - 요청과 응답 구조
        - Stateless 특성을 세션이나 쿠키 등 활용 필요
            - 서버가 응답한 후에 서버는 클라이언트의 상태를 유지하지 않음
            - 상태 관리를 위해 쿠키나 세션을 활용함
- HTTP 요청 메시지
    - HTTP 요청 메시지 구조
        - 시작 라인, 요청 헤더, 요청 메시지 몸체
            - 시작 라인
                - 요청 방식, URI, 버전 번호
            - 요청 헤더
                - 한 라인에 하나씩 헤더 정보를 기술
                - 각 라인은 "헤더필드이름: 값" 형식으로 구성됨
                - 요청 헤더의 끝에 공백 라인을 둠
            - 요청 몸체
                - POST 요청 방식에서만 존재
                - HTML 폼에서 작성한 데이터를 POST 방식으로 전송할 때 사용됨
    - HTTP 응답 메시지 구조
        - 시작 라인, 응답 헤더, 응답 메시지 몸체
            - 시작 라인
                - HTTP 버전, 상태 코드(응답 코드), 응답 상태의 설명
                - 주요 상태 코드
                    - 200 요청의 성공적 처리
                    - 400 잘못된 요청
                    - 401 인증 실패
                    - 403 권한 없음
                    - 404 요청한 리소스 없음
                    - 500 서버 내부 오류
                    - 503 서버가 일시적으로 사용 불가
            - 응답 헤더
                - 한 라인에 하나씩 헤더 정보를 기술
                - 각 라인은 "헤더필드이름:값" 형식으로 구성됨
                - 응답 헤더의 끝에 공백 라인을 둠
            - 응답 몸체
                - HTML, JSON, 이미지 등 다양한 형태의 데이터가 포함될 수 있음
