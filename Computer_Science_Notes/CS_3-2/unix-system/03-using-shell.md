# # UNIX 시스템

## 03. 셸 사용하기

- 컴퓨터과학과 김희천 교수님

### (1) 셸 개요

- 셸(Shell)
    - 명령어 해석기 또는 명령 행 인터페이스
        - 사용자와 커널 사이에서 명령어를 해석하여 처리
        - 셸 명령을 사용하면 GUI로는 하기 힘든 다양한 기능을 수행할 수 있음
    - 셸 명령을 프로그램으로 작성하여 처리할 수도 있음
        - 셸 스크립트는 텍스트 파일로 프로그래밍을 통한 셸 명령의 조합
        - 반복적으로 수행되는 작업을 셸 스크립트로 작성할 수 있음
        - 셸이 셸 스크립트 파일을 읽어 처리할 수 있음
    - 텍스트 모드로 로그인을 하면 기본 셸이 주어짐
- 셸 사용하기
    - 텍스트 모드에서 로그인하면 자동으로 로그인 셸이 실행됨
    - GNOME 데스크톱에서는 터미널 창을 실행시켜 셸을 사용함
        - 현재 활동 > 터미널
        - 여러 터미널 창을 띄워 사용할 수 있음
        - 터미널 창은 명령 프롬프트와 명령 행을 제공함
    - 기본적으로 한 개의 명령을 입력하고 Enter를 눌러 명령을 수행함
        - 결과가 출력되면 명령 프롬프트가 다시 등장함
        - 세미콜론(;)을 사용하면 한 라인에 여러 명령을 입력할 수 있음
- 셸의 종류
    - 많은 리눅스 배포판에서 Bash를 기본 셸로 사용함
        - 명령 프롬프트로 일반 사용자는 $, root 사용자는 #을 사용함
    - 셸의 종류에 따라 에일리어스 설정, 초기화 파일, 셸 스크립트 작성법, 명령 행 완성 기능, 명령 행 편집 기능 등에 차이가 있음
- Bash 셸
    - Bourne Again Shell로 Bourne 셸의 개선된 버전
        - 많은 셸 스크립트의 문법이 Bourne 셸에 기반을 둠
    - C셸과 Korn 셸의 유용한 기능을 가져옴
    - 실행 명령은 /bin/bash
        - /etc/passwd 파일에 다음과 같은 라인이 있음
        - kdhong:x:1000:1000:KilDong Hong:/home/kdhong:/bin/bash
- 셸 선택하기
    - 기본 셸을 변경할 수 있음
        - chsh -s /bin/sh
    - 터미널 창을 '대화형 셸'이라고도 함
        - 셸을 종료하려면 exit 명령 또는 ctrl+d를 실행
        - 로그인 셸이 아님
    - 로그인 셸과 비로그인 셸을 구별해야 함
        - logout 명령은 로그인 셸에서만 가능
        - 참고로 ctrl+alt+F1~F6으로 가상 콘솔을 사용할 수 있음
        - 셸 프롬프트에서 셸 프로그램을 실행하면 서브 셸이 실행됨

### (2) 셸 명령

- 셸 명령의 형식
    - $ 명령어 옵션 인수
        - 예: usermod -L kdhong
        - 옵션과 인수는 여럿일 수 있으며 선택적 또는 필수적
    - 대개 명령어는 프로그램의 이름
    - 관리자 명령 또는 일반 사용자 명령이 있음
    - 가장 간단한 형태의 실행은 명령의 이름만 사용하는 것
        - who, date, ls, pwd
    - chsh 명령
        - 기본 셸을 바꾸는 명령
        - chsh[options][username]
            - 대괄호는 생략 가능, 이탤릭체는 적당한 내용으로 대체해야 함을 의미
            - 복수는 여러 개가 가능하다는 의미
- 옵션과 인수
    - 짧은 옵션(-)
        - ls -l
        - ls -lat와 ls -l -a -t는 같은 것
    - 긴 옵션(--)
        - ls --all
    - 인수는 명령의 수행 대상을 지정하는 것
        - cat -n /etc/passwd
        - grep "KilDong Hong" /etc/passwd
    - 옵션도 인수를 가질 수 있음
        - chsh -s /bin/sh kdhong
        - chsh --chell=/bin/bash kdhong

### (3) 명령 히스토리

### (4) 명령의 연결과 확장

### (5) 셸 변수
