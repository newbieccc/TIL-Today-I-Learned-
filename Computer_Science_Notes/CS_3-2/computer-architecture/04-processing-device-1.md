# # 컴퓨터 구조

## 04. 처리장치 (1)

- 컴퓨터과학과 강지훈 교수님

### (1) 처리장치 개요

- 중앙처리장치(CPU: Central Processing Unit)
    - 처리장치와 제어장치가 결합된 형태
        - 처리장치: 데이터를 처리하는 연산을 실행
        - 제어장치: 연산의 실행순서를 결정
- 처리장치의 구성
    - 산술논리연산장치와 다수의 레지스터로 구성
    - 산술논리연산장치(ALU: Arithmetic and Logic Unit)
        - 산술, 논리, 비트연산 등의 연산을 수행
    - 레지스터(Register)
        - 연산에 사용되는 데이터나 연산의 결과를 저장
    - ALU는 연산을 수행하는 기능만을 담당하며, 연산에 필요한 데이터는 레지스터를 통해 공급되고 결과 또한 레지스터에 저장

### (2) 마이크로 연산

- 마이크로 연산
    - 레지스터에 저장되어 있는 데이터에 대해 이루어지는 기본적인 연산
        - 레지스터와 연산 회로 수준에서 수행되는 가장 기본적인 회로 단위의 동작
            - 한 레지스터의 내용을 다른 레지스터로 옮기는 것
            - 두 레지스터의 내용을 합하는 것
            - 레지스터의 내용을 1만큼 증가시키는 것 등
        - ALU, 레지스터, 버스 등의 회로 자원을 사용
        - 마이크로 연산을 이해하면 처리장치의 동작 원리를 이해할 수 있음
- 마이크로 연산의 종류
    - 레지스터 전송 마이크로 연산
    - 산술 마이크로 연산
    - 논리 마이크로 연산
    - 시프트 마이크로 연산
- 레지스터의 표현
    - 레지스터 R
        - R
    - 8비트 레지스터의 개별 비트
        - 7 6 5 4 3 2 1 0
    - 16비트 레지스터의 순서 표시
        - 15 <- 0
    - 16비트 레지스터의 분할
        - 15 <- 8 | 7 <- 0
- 레지스터 전송 마이크로 연산
    - 한 레지스터에서 다른 레지스터로 2진 데이터를 전송하는 연산
        - 레지스터 사이에 데이터 전송은 연산자 '<-'로 표시

| 기호          | 의미                           | 사용 예                        |
|-------------|------------------------------|-----------------------------|
| 영문자(숫자와 함께) | 레지스터를 표시                     | `AR`, `R2`, `DR`, `IR`      |
| 괄호          | 레지스터의 일부분                    | `R2(1)`, `R2(7:0)`, `AR(1)` |
| 화살표         | 자료의 이동 표시                    | `R1 ← R2`                   |
| 쉼표          | 동시에 실행되는 두 개 이상의 마이크로 연산을 구분 | `R1 ← R2`, `R2 ← R1`        |
| 대괄호         | 메모리에서의 어드레스                  | `DR ← M[AR]`                |

- 산술 마이크로 연산
    - 레지스터 내의 데이터에 대해서 실행되는 산술연산
        - 덧셈, 뺄셈, 1증가, 1감소, 그리고 보수 연산이 있음

| 기호표시                 | 의미                         |
|----------------------|----------------------------|
| R0 ← R1 + R2         | R1과 R2의 합을 R0에 저장          |
| R2 ← {R̅2̅}          | R2의 보수(1의 보수)를 R2에 저장      |
| R2 ← {R̅2̅} + 1      | R2에 2의 보수를 계산 후 저장         |
| R0 ← R1 + {R̅2̅} + 1 | R1에 R2의 2의 보수를 더한 후 R0에 저장 |
| R1 ← R1 + 1          | R1에 1 더함 (상승 카운트)          |
| R1 ← R1 − 1          | R1에 1 뺌 (하강 카운트)           |

- 논리 마이크로 연산
    - 레지스터 내의 데이터에 대한 비트를 조작하는 연산
        - 기본적인 논리연산으로는 AND, OR, XOR, NOT 연산

| 기호표시         | 의미                  |
|--------------|---------------------|
| R0 ← R1̅     | 비트별 논리적 NOT(1의 보수)  |
| R0 ← R1 ∧ R2 | 비트별 논리적 AND(비트 클리어) |
| R0 ← R1 ∨ R2 | 비트별 논리적 OR(비트 세트)   |
| R0 ← R1 ⊕ R2 | 비트별 논리적 XOR(비트별 보수) |

- 시프트 마이크로 연산
    - 레지스터 내의 데이터를 시프트(shift) 시키는 연산
        - 시프트 연산을 수행하더라도 R2의 값은 변하지 않음
        - sr이나 sl에 대해서 입력 비트는 0으로 가정
        - 출력비트의 값은 버려 짐

| 유형      | 기호표시         | 8비트 데이터의 경우 – 출발지 `R2` | 시프트 후: 목적지 `R1` |
|---------|--------------|------------------------|-----------------|
| 왼쪽 시프트  | `R1 ← sl R2` | `10011110`             | `00111100`      |
| 오른쪽 시프트 | `R1 ← sr R2` | `11100101`             | `01110010`      |

### (3) 처리장치의 구성 요소

- 처리장치의 내부 구성
    - 여러 개의 레지스터(레지스터 세트)
    - 내부 버스(internal bus)
    - 산술논리연산장치(ALU)
- 처리장치의 동작
    - 처리장치는 내부 구성 요소들을 사용해 마이크로 연산을 수행
- 마이크로 연산의 수행 과정
    1) 지정된 출발 레지스터의 내용이 ALU의 입력으로 전달
    2) ALU에서 그 연산을 실행
    3) 그 결과가 도착 레지스터에 전송
- 내부버스(internal)
    - 레지스터들 간의 데이터 전송을 위한 공통선로의 집합
- 내부 버스를 구성하는 방법
    - 멀티플렉서와 디코더를 이용
        - 멀티플렉서는 출발 레지스터 선택
        - 디코더는 도착 레지스터를 선택
