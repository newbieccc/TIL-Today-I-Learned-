# 데이터베이스 시스템

## 06. SQL(3)

- 컴퓨터과학과 정재화 교수님

### (1) 데이터 정렬과 특수연산자

- SELECT 명령어
    - 한 개 이상의 테이블에서 주어진 조건에 만족하는 레코드를 출력하는 명령문
    - 관계 대수의 셀렉트, 프로젝트, 조인, 카티션 프로덕트 연산자의 기능을 모두 포함하는 명령문
        - 필수절인 SELECT 절과 부가적인 목적으로 사용하는 절을 혼합하여 검색 기능을 구체화
- 데이터 정렬
    - ORDER BY 절을 사용
    - 검색 결과를 특정 컬럼에 대해 오름차순 또는 내림차순으로 정렬
        - 오름차순 : ASC
        - 내림차순 : DESC
    - SELECT * FROM 테이블 ORDER BY 컬럼1 ASC, 컬럼2 DESC
- 특수 연산자
    - 범위, 부분 일치 여부, 포함 여부 등 RDBMS에서 사용되도록 고안된 연산자
    - BETWEEN
        - SELECT * FROM 계좌 WHERE 잔액 BETWEEN 20000 AND 40000
    - LIKE
        - SELECT * FROM 과목 WHERE 과목코드 LIKE 'COM%'
    - IN
        - SELECT * FROM 교수 WHERE 소속학과 IN ('컴퓨터과학과','행정학과','법학과')
- 집합 연산자
    - 테이블은 집합, 레코드는 집합에 포함된 원소
    - 집합 이론에서의 이진 연산
        - 합집합 : UNION, UNION ALL
        - 교집합 : INTERSECT
        - 차집합 : EXCEPT
    - 집합 연산자 사용 조건
        - 테이블 R과 S의 차수 및 각 컬럼의 도메인이 일치
    - 교집합 및 차집합은 지원하지 않는 상용 DBMS가 있어 NOT IN 등의 연산자를 사용하여 우회

### (2) 함수의 사용

- 함수의 개념
    - 특정 목적을 수행하도록 사전에 정의된 연산 및 기능을 수행한 후 결과값을 반환하는 명령어 집합
    - 고도의 데이터 조작을 지원하고 SQL문 작성의 편의성을 유지
        - 선언적 언어 특성상 표현 불가능한 데이터 조작을 프르그래밍 언어적 특성을 갖는 확장된 언어를 사용
    - DBMS는 검색결과가 사용자에게 여러 형태로 사용되도록 여러 데이터 타입에 대한 다양한 사전 정의 함수를 제공
- 숫자함수
    - 삼각함수, 상수, 올림과 버림, 난수 등의 숫자 데이터 타입에 적용할 수 있는 계산을 위한 함수
    - TRUNCATE(학점/8) -> 소수점 이하 버림
- 문자함수
    - 문자열 조작 및 문자 형식 변환 등의 문자와 관련된 다양한 연산을 지원하는 함수
- 날짜함수

### (3) 집계 함수의 사용

- 집계함수
    - 특정 컬럼에 집계함수를 통해 다양한 통계 연산을 수행할 수 있는 기능
    - SELECT절 또는 HAVING절에 기술
    - 집계 함수의 종류
        - COUNT : 컬럼에 있는 값들의 개수
        - SUM : 컬럼에 있는 값들의 함
        - AVG : 컬럼에 있는 값들의 평균
        - MAX : 컬럼에서 가장 큰 값
        - MIN : 컬럼에서 가장 작은 값
- 조건 그룹 질의
    - 그룹 질의의 결과 레코드에 대해 출력 조건을 기술하는 질의
    - SELECT 문 형식 GROUP BY 컬럼 HAVING 조건
    - 조건에 대한 기술
        - WHERE : 레코드에 대한 조건을 기술
        - HAVING : 집계 결과 레코드에 대한 조건을 기술
