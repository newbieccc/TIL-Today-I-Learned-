# 정보처리기사 2024

## # 3-2. 데이터베이스 구축 - SQL 활용

### # 1. 기본 SQL 작성 3-33page

### 1. 하나의 애트리뷰트가 가질 수 있는 원자값들의 집합을 의미하는 것은?

- 하나의 애트리뷰트가 가질 수 있는 원자값들의 집합을 의미하는 것은?
  - 도메인

```markdown
- 도메인
  - 하나의 속성이 가질 수 있는 원자값들의 집합
  - 속성의 데이터 타입과 크기, 제약조건 등의 정보
- 스키마
  - 데이터베이스의 구조, 제약조건 등의 정보를 담고 있는 기본적인 구조
- 테이블
  - 데이터를 저장하는 항목인 필드들로 구성된 데이터의 집합체
- 뷰
  - 하나 이상의 물리 테이블에서 유도되는 가상의 테이블
- 인덱스
  - 검색을 빠르게 하기 위한 데이터 구조
```

### 5. 다음 설명의 사용하는 SQL문은?

- DDL(Data Define Language)의 명령어 중 스키마, 도메인, 인덱스 등을 정의할 때 사용하는 SQL문은?
  - `CREATE`

```markdown
- CREATE : 데이터베이스 오브젝트 생성
- ALTER : 데이터베이스 오브젝트 변경
- DROP : 데이터베이스 오브젝트 삭제
- TRUNCATE : 데이터베이스 오브젝트 내용 삭제
```

### 10. 다음 설명의 적합한 SQL 명령어는?

- '회원; 테이블 생성 후 '주소' 필드(컬럼)가 누락되어 이를 추가하려고 한다. 이에 적합한 SQL 명령어는?
  - `ALTER`

|구분|문법|설명|
|:--:|--|--|
|컬럼 추가|ALTER TABLE 테이블명 ADD 컬럼명 데이터 타입;|테이블에 필요한 컬럼을 추가하는 명령어|
|컬럼 수정|ALTER TABLE 테이블명 MODIFY 컬럼명 데이터_타입 [DEFAULT 값] [NOT NULL];|기존 테이블에 존재하는 컬럼의 데이터 유형, 기본값, NOT NULL 등의 제약조건에 대한 변경|
|컬럼 삭제|ALTER TABLE 테이블명 DROP 컬럼명;|테이블에 존재하는 컬럼을 삭제하는 명령어|
|컬럼명 수정|ALTER TABLE 테이블명 RENAME COLUMN 변경전_컬럼명 TO 변경 후_컬럼명;|테이블의 컬럼명을 변경하는 명령어|

### 11. 다음 SQL문의 실행 결과를 가장 옳게 설명한 것은?

```SQL
DROP TABLE 인사 CASCADE;
```

- `인사 테이블을 참조하는 테이블과 인사 테이블을 제거한다.`

```markdown
- CASCADE : 참조하는 테이블까지 연쇄적으로 제거
- RESTRICT : 다른 테이블이 삭제할 테이블 참조 중이면 제거 안함
```

### 16. 다음 설명에 해당하는 것은?

- 트랜잭션(Transaction)은 보통 일련의 연산 집합이란 의미로 사용하며 하나의 논리적 기능을 수행하는 작업의 단위이다. 트랜잭션이 가져야 할 특성은?
- 트랙잭션의 특징(ACID)
  - Atomicity(원자성)
  - Consistency(일관성)
  - Isolation(격리성)
  - Durability(영속성)

### 19. 다음 트랜잭션의 특성 중 설명에 해당하는 것은?

```markdown
트랜잭션의 연산은 데이터베이스에 모두 반영되든지 아니면 전혀 반영되지 않아야 한다.
```

- `Atomicity(원자성)`

```markdown
- 원자성(Atomicity) : 트랜잭션을 구성하는 연산 전체가 모두 정상적으로 실행되거나 모두 취소되어야 하는 성질
- 일관성(Consistency) : 시스템이 가지고 있는 고정요소는 트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야 하는 성질
- 격리성(Isolation, 고립성) : 동시에 실행되는 트랜잭션들이 서로 영향을 미치지 않아야 한다는 성질
- 영속성(Durability) : 성공이완료된 트랜잭션의 결과는 영속적으로 데이터베이스에 저장되어야 하는 성질
```

### 21. 병행 제어의 로킹(Locking) 단위에 대한 설명

- 로킹의 특징
  - 데이터베이스, 파일, 레코드 등은 로킹 단위가 될 수 있음
  - 로킹 단위가 작아지면 데이터베이스 공유도가 증가
  - 로킹 단위가 작아지면 로킹 오버헤드가 증가
  - 한꺼번에 로킹할 수 있는 객체의 크기를 로킹 단위라고 함

### 22. 로킹 단위(Locking Granularity)에 대한 설명

- 로킹 단위가 크면 병행성 수준이 낮아진다.

### 23.병행 제어 기법 중 로킹에 대한 설명

- 로킹의 특징
  - 데이터베이스, 파일, 레코드 등은 로킹 단위가 될 수 있음
  - 로킹 단위가 작아지면 데이터베이스 공유도가 증가
  - 로킹 단위가 작아지면 로킹 오버헤드가 증가
  - 한꺼번에 로킹할 수 있는 객체의 크기를 로킹 단위라고 함

### 24. 병행 제어(Concurrency) 기법의 종류

- 병행 제어 기법 (로 낙타다)
  - 로킹
  - 낙관적 검증
  - 타임 스탬프 순서
  - 다중버전 동시성

### 26. 트랜잭션의 병행 제어 목적

- 병행제어의 목적
  - 데이터베이스의 공유를 최대화한다.
  - 시스템의 활용도를 최대화한다.
  - 데이터베이스의 일관성을 유지한다.
  - 사용자에 대한 응답시간을 최소화한다.

### 27. 데이터베이스 로그(log)를 필요로 하는 회복 기법은?

- 데이터베이스 로그(log)를 필요로 하는 회복 기법은?
  - 즉각 갱신 기법
  - 지연 갱신 회복 기법

### 30. 2 Phase Commit에 대한 설명

- 2PC는 준비 단계, 커밋 단계로 나뉘고, 커밋 단계는 모든 분산 시스템에서 트랜잭션 수행 결과가 일치하는지 확인한다.

- 1단계(준비 단계)
  - 트랜잭션 수행 결과를 다른 분산 시스템에 알리는 과정
- 2단계(커밋 단계)
  - 모든 분산 시스템에서 트랜잭션 수행 결과가 일치하는지 확인
  - 모든 분산 시스템이 트랜잭션을 성공적으로 수행했다면, 커밋을 수행하고, 그렇지 않다면 롤백을 수행

---

### # 2. 고급 SQL 작성 3-54page

### 1. 뷰에 대한 설명

- 뷰는 논리적으로 구현되는 테이블이다.
  - 장점
    - 논리적 독립성을 제공한다.
    - 데이터 접근제어로 보안 기능을 제공한다.
    - 사용자의 데이터 관리를 간단하게 한다.
    - 하나의 테이블로 여러 개의 뷰를 만들 수 있다.
  - 단점
    - 독자적인 인덱스를 가질 수 없다.
    - 정의를 변경할 수 없다.
    - 삽입, 삭제, 갱신 연산에 많은 제약이 따른다.

### 4. 뷰(VIEW)에 대한 설명

- 뷰(VIEW)
  - 뷰 위에 또 다른 뷰를 정의할 수 있다.
  - 뷰에 대한 조작에서 삽입, 갱신, 삭제 연산은 제약이 따른다.
  - 뷰가 정의된 기본 테이블이 제거되면 뷰도 자동적으로 제거된다.
  - 뷰(View)는 변경이 불가능하므로 삭제 후 생성(DROP -> CREATE) 해야 한다.

### 8. 뷰(View)에 대한 설명

- 뷰(View)에 대한 설명
  - 뷰는 물리적이 아닌 논리적으로 구성되어 있고, 논리적 독립성을 제공한다.
  - 뷰를 통해서 데이터를 접근하게 함으로써 뷰에 보이지 않는 데이터를 안전하게 보호하는 효과가 있다.
  - 뷰는 데이터 접근제어에 대한 보안을 제공한다.
  - 뷰는 삽입, 삭제, 갱신 연산은 제약사항이 따른다.
  - 뷰가 정의된 기본 테이블이 삭제되면 뷰는 자동으로 삭제 된다.

### 13. 테이블 R1, R2에 대한 다음 SQL 문의 결과는?

```SQL
(SELECT 학번 FROM R1)
INTERSECT
(SELECT 학번 FROM R2)
```

- [R1] 테이블

|학번|학점수|
|:--:|:--:|
|20201111|15|
|20202222|20|

- [R2] 테이블

|학번|과목번호|
|:--:|:--:|
|20202222|CS200|
|20203333|CS300|

- INTERSECT는 교집합을 추출한다.
- 결과

|학번|
|:--:|
|20202222|

### 19. 테이블 R과 S에 대한 SQL 문이 실행되었을 때 실행 결과는?

- R

|A|B|
|:--:|:--:|
|1|A|
|3|B|

- S

|A|B|
|:--:|:--:|
|1|A|
|2|B|

```SQL
SELECT A FROM R
UNION ALL
SELECT A FROM S;
```

```markdown
결과
1
3
1
2
```

- UNION ALL은 중복 행이 제거되지 않은 쿼리 결과 집합이다.
- SELECT A FROM R은 R 테이블의 A 컬럼 값인 1, 3이 되고 SELECT A FROM S 는 S 테이블의 A 컬럼 값인 1, 2가 된다.
- 두 조회 결과를 UNION ALL하게 되면 중복된 행이 제거되지 않으므로 1, 3, 1, 2가 된다.
