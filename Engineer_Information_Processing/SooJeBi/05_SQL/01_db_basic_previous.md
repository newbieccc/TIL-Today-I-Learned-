# SQL 응용

## # 데이터베이스 기본 - 기출문제

### 01. 특성

- 트랜잭션의 특성
  - 일관성, 지속성, `원자성`, `고립성`

---

### 02. 서술

- 트랜잭션의 원자성이란?
  - `트랜잭션을 구성하는 연산 전체가 모두 정상적으로 실행되거나 모두 취소되어야 하는 성질이다`
  - `트랜잭션의 연산 전체가 성공 또는 실패되어야 하는 성질이다`

---

### 03. 설명 서술

- 트랜잭션의 Rollback이란?
  - `트랜잭션 처리 중 오류가 방생했을 때, 오류 이전의 특정 시점(SAVEPOINT, CHECKPOINT) 상태로 되돌려주는 제어어(명령어)이다`

---

### 04. 해당 설명의 기법

- 같은 자원을 액세스하는 다중 트랜잭션 환경에서 DB의 일관성과 무결성을 유지하기 위해 트랜잭션의 순차적 진행을 보장하는 직렬화 기법은?
  - `로킹(Locking)`

---

### 05. 튜플 수

- SQL 문 실행
- STUDENT 테이블에
  - '컴퓨터과' 학생 50명
  - '인터넷과' 학생 100명
  - '사무자동화학과' 학생 50명

- SELECT DEPT FROM STUDENT;
  - `200`
- SELECT DISTINCT DEPT FROM STUDENT;
  - `3`
- SELECT COUNT(DISTINCT DEPT) FROM STUDENT;
  - `1`

---

### 06. SQL문 작성

>- 학생 테이블
>- 학번, 이름, 학년, 수강과목, 점수, 연락처 속성
>- 점수 = NUMBER, 이외의 속성 VARCHAR

- 학생 테이블에서 3,4학년인 학번, 이름을 조회한다
- IN 연산자를 사용한다
  - `SELECT 학번, 이름 FROM 학생 WHERE 학년 IN(3,4);`

---

### 07. DB 기법

- 데이터베이스의 회복 기법 중
- Rollback 시 Redo, Undo가 모두 실행되는 트랜잭션 처리법으로
- 트랜잭션 수행 중 갱신 결과를 바로 DB에 반영하는 기법은?
  - `즉각 갱신 회복 기법`

---

### 08. SQL문 작성

- STUDENT 테이블의 NAME 속성에 IDX_NAME 이름으로 엔덱스 생성하는 SQL 문을 작성
  - `CREATE INDEX IDX_NAME ON STUDENT(NAME);`

---

### 09. SQL문 작성

- 학생 테이블에서 이름이 민수인 튜플을 삭제하는 SQL 문 작성
  - `DELETE FROM 테이블명 WHERE 조건;`

---

### 10. 스키마 용어

- ( `외부 스키마` ) = 사용자나 개발자의 관점에서 필요로 하는 데이터베이스의 논리적 구조를 나타낸 스키마
- ( `개념 스키마` ) = 데이터베이스의 전체적인 논리적 구조를 나타낸 스키마
- ( `내부 스키마` ) = 물리적 저장장치의 관점에서 보는 데이터베이스의 구조를 나타낸 스키마

---

### 11. 용어

- `인덱스`
  - 데이터베이스에서 <키값, 주소>형태의 자료구조이다
  - 데이터베이스 파일 구조에서 순차, ( `인덱스` ), 해싱 접근 방법이다

---

### 12. 서술

- DB 스키마에 대해 서술하시오
  - `데이터베이스의 구조, 제약조건 등의 정보를 담고있는 기본적인 구조이다`

---

### 13. SQL문

- 학생 테이블에 주소 속성을 추가하는 SQL문을 작성하시오
  - ( `ALTER` ) TABLE 학생 ( `ADD` ) 주소 VARCHAR(20);

---

### 14. SQL문 작성

- 회원 테이블에서 회원번호가 N4인 튜플의 전화번호를 수정하는 쿼리를 완성하시오
  - ( `UPDATE` ) 회원 ( `SET` ) 전화번호 = '014-14' WHERE 회원번호 = 'N4';

---

### 15. DDL에 속하는 명령어

- DDL 명령어
  - `CREATE` / `ALTER` / `DROP` / `TRUNCATE`

---

### 16. DML에 속하는 명령어

- DML 명령어
  - `SELECT` / `INSERT` / `UPDATE` / `DELETE`

---

### 17. 빈 칸의 쿼리

- 학생정보 테이블과 학과정보 테이블을 조인하려고 한다
  - SELECT 학생정보.학번, 학생정보.이름, 학과정보.학과, 학과정보. 지도교수</br>
FROM 학생정보 JOIN 학과정보 ( `ON` ) 학생정보.학과=학과정보.학과;

---

### 18. 빈 칸의 쿼리

- 학생 테이블을 이용해 이름이 이로 시작하는 학생들에 대해 내림차순으로 정렬하려고 한다
  - SELECT *
</br> FROM 학생
</br> WHERE 이름 LIKE ( `"이%"` ) ORDER BY 이름 ( `DESC` )

---

### 19. SQL 실행 결과

|SOO(TABLE)|JEBI(TABLE)|
|:--:|:--:|
|NAME(attribute)|RULE(attribute)|
|SOPHIA|S%|
|OLIVIA|%A%|
|SEMA||
|||

- SELECT COUNT(*) CNT FROM SOO CROSS JOIN JEBI</br>
WHERE SOO.NAME LIKE JEBI.RULE;
  - `5`

---

### 20. 서술

- GRANT의 기능을 서술하시오
  - `사용자에게 권한을 부여한다`

---

### 21. SQL문 작성

- 학생 테이블에서 3학년 이상인 학생의 과목명을 중복 없이 조회되도록 SQL문을 작성하시오
  - `SELECT DISTINCT 과목명 FROM 학생 WHERE 학년 >= 3;`

---

### 22. 쿼리 작성

- 학생 테이블에서 학과가 '컴퓨터공학'인 학생의 학년을 중복 없이 조회하는 SQL문을 작성하시오
  - `SELECT DISTINCT 학년 FROM 학생 WHERE 학과 = '컴퓨터공학';`

- 학생 테이블에서 학년이 2학년 이상인 학생을 대상으로 학년을 내림차순으로 정렬했을 때 학번, 이름을 조회하는 SQL문을 작성하시오
  - `SELECT 학번, 이름 FROM 학생 WHERE 학년 >=2 ORDER BY 학년 DESC;`

---

### 23. SQL문 작성

- 사원 테이블에서 직급이 '대리'인 직원의 급여를 2000 인상하는 SQL 문 작성
  - `UPDATE 사원 SET 급여 = 급여+2000 WHERE 직급 = '대리';`

---

### 24. SQL문 작성

- 사원 테이블 구조에 맞게 학생 테이블을 생성하기

>- CREATE TABLE 사원(</br>
&nbsp;&nbsp;&nbsp;&nbsp;사번 VARCHAR(10) PRIMARY KEY,</br>
&nbsp;&nbsp;&nbsp;&nbsp;성명 VARCHAR(20),</br>
&nbsp;&nbsp;&nbsp;&nbsp;직책 VARCHAR(20) ( `CHECK` ) 직책 ( `IN` ) ('계장', '과장', '차장', '팀장', '부장')</br>
&nbsp;&nbsp;&nbsp;&nbsp;연봉 INTEGER</br>
);

---

### 25. 쿼리 작성

- 학생 테이블에서 학과가 NULL인 학생의 학번, 이름을 조회하는 쿼리를 작성하시오
  - `SELECT * FROM 테이블명 WHERE 컬럼명 IS NULL;`

---

### 26. 쿼리 속 빈칸

- 학생 테이블에서 담당관의 이름이 "이"로 시작하는 튜플의 학과번호를 999로 갱신하는 SQL을 작성하려고 한다
  - UPDATE 학부생 ( `SET` ) 학과번호 = 999 WHERE 담당관 ( `LIKE` ) 이%;
